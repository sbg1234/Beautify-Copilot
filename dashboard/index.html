<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Beautifi Dashboard | Sleeve Clinic</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,400&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-primary: #FAF9F7;
      --bg-card: #FFFFFF;
      --text-primary: #2C2C2C;
      --text-secondary: #6B6B6B;
      --text-muted: #9A9A9A;
      --accent-teal: #0D5C63;
      --accent-teal-light: #E8F4F5;
      --status-approved: #4A7C59;
      --status-approved-bg: #EDF5EF;
      --status-review: #D4A574;
      --status-review-bg: #FDF6EF;
      --status-closed: #C7786A;
      --status-closed-bg: #FAEFED;
      --status-pending: #7C8BA1;
      --status-pending-bg: #F0F2F5;
      --shadow-sm: 0 1px 3px rgba(0,0,0,0.04), 0 1px 2px rgba(0,0,0,0.06);
      --shadow-md: 0 4px 6px rgba(0,0,0,0.04), 0 2px 4px rgba(0,0,0,0.06);
      --shadow-lg: 0 10px 25px rgba(0,0,0,0.06), 0 6px 10px rgba(0,0,0,0.04);
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 20px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'DM Sans', -apple-system, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      min-height: 100vh;
      line-height: 1.6;
      position: relative;
    }

    /* Subtle noise texture overlay */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0.3;
      pointer-events: none;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
      z-index: 0;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 40px 24px;
      position: relative;
      z-index: 1;
    }

    /* Header */
    header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 48px;
      animation: fadeInDown 0.6s ease-out;
    }

    .logo-section h1 {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      font-weight: 600;
      color: var(--text-primary);
      letter-spacing: -0.02em;
    }

    .logo-section .subtitle {
      font-size: 0.95rem;
      color: var(--text-secondary);
      margin-top: 4px;
      font-weight: 400;
    }

    .last-updated {
      text-align: right;
      padding: 12px 20px;
      background: var(--bg-card);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-sm);
    }

    .last-updated-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--text-muted);
      margin-bottom: 2px;
    }

    .last-updated-time {
      font-size: 0.95rem;
      font-weight: 500;
      color: var(--text-primary);
    }

    /* Metrics Grid */
    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin-bottom: 48px;
    }

    .metric-card {
      background: var(--bg-card);
      border-radius: var(--radius-lg);
      padding: 28px;
      box-shadow: var(--shadow-md);
      position: relative;
      overflow: hidden;
      animation: fadeInUp 0.6s ease-out backwards;
    }

    .metric-card:nth-child(1) { animation-delay: 0.1s; }
    .metric-card:nth-child(2) { animation-delay: 0.15s; }
    .metric-card:nth-child(3) { animation-delay: 0.2s; }
    .metric-card:nth-child(4) { animation-delay: 0.25s; }

    .metric-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--accent-teal), #1A8B94);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .metric-card:hover::before {
      opacity: 1;
    }

    .metric-card.highlight {
      background: linear-gradient(135deg, var(--accent-teal) 0%, #0A4A50 100%);
      color: white;
    }

    .metric-card.highlight .metric-label {
      color: rgba(255,255,255,0.8);
    }

    .metric-label {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text-muted);
      margin-bottom: 12px;
      font-weight: 500;
    }

    .metric-value {
      font-family: 'Playfair Display', serif;
      font-size: 3rem;
      font-weight: 600;
      line-height: 1;
      letter-spacing: -0.02em;
    }

    .metric-subtext {
      font-size: 0.85rem;
      color: var(--text-secondary);
      margin-top: 8px;
    }

    .metric-card.highlight .metric-subtext {
      color: rgba(255,255,255,0.7);
    }

    /* Filters */
    .filters-section {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
      animation: fadeIn 0.6s ease-out 0.3s backwards;
    }

    .section-title {
      font-family: 'Playfair Display', serif;
      font-size: 1.5rem;
      font-weight: 500;
    }

    .filter-pills {
      display: flex;
      gap: 8px;
    }

    .filter-pill {
      padding: 10px 20px;
      border: none;
      background: var(--bg-card);
      border-radius: 50px;
      font-family: 'DM Sans', sans-serif;
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--text-secondary);
      cursor: pointer;
      transition: all 0.2s ease;
      box-shadow: var(--shadow-sm);
    }

    .filter-pill:hover {
      background: var(--accent-teal-light);
      color: var(--accent-teal);
    }

    .filter-pill.active {
      background: var(--accent-teal);
      color: white;
      box-shadow: var(--shadow-md);
    }

    /* Applications List */
    .applications-list {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .application-card {
      background: var(--bg-card);
      border-radius: var(--radius-lg);
      padding: 24px 28px;
      box-shadow: var(--shadow-md);
      display: grid;
      grid-template-columns: 1fr auto auto auto;
      gap: 32px;
      align-items: center;
      transition: all 0.3s ease;
      animation: fadeInUp 0.5s ease-out backwards;
      cursor: pointer;
    }

    .application-card:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }

    .applicant-info {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .applicant-name {
      font-family: 'Playfair Display', serif;
      font-size: 1.25rem;
      font-weight: 500;
      color: var(--text-primary);
    }

    .applicant-email {
      font-size: 0.875rem;
      color: var(--text-secondary);
    }

    .applicant-meta {
      font-size: 0.8rem;
      color: var(--text-muted);
      display: flex;
      gap: 16px;
      margin-top: 4px;
    }

    .amount-info {
      text-align: right;
    }

    .amount-label {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--text-muted);
      margin-bottom: 2px;
    }

    .amount-value {
      font-family: 'Playfair Display', serif;
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--text-primary);
    }

    .amount-approved {
      color: var(--status-approved);
    }

    .dates-info {
      text-align: right;
      font-size: 0.85rem;
      color: var(--text-secondary);
      line-height: 1.5;
    }

    .date-label {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--text-muted);
    }

    /* Status Pills */
    .status-pill {
      padding: 8px 16px;
      border-radius: 50px;
      font-size: 0.8rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      white-space: nowrap;
    }

    .status-approved {
      background: var(--status-approved-bg);
      color: var(--status-approved);
    }

    .status-review {
      background: var(--status-review-bg);
      color: var(--status-review);
    }

    .status-closed {
      background: var(--status-closed-bg);
      color: var(--status-closed);
    }

    .status-pending {
      background: var(--status-pending-bg);
      color: var(--status-pending);
    }

    /* Empty State */
    .empty-state {
      text-align: center;
      padding: 80px 40px;
      background: var(--bg-card);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-md);
    }

    .empty-state-icon {
      font-size: 3rem;
      margin-bottom: 16px;
      opacity: 0.5;
    }

    .empty-state-text {
      font-size: 1.1rem;
      color: var(--text-secondary);
    }

    /* Animations */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes countUp {
      from { opacity: 0; transform: scale(0.8); }
      to { opacity: 1; transform: scale(1); }
    }

    /* Responsive */
    @media (max-width: 1200px) {
      .metrics-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 900px) {
      .application-card {
        grid-template-columns: 1fr;
        gap: 16px;
      }

      .amount-info, .dates-info {
        text-align: left;
      }

      .filters-section {
        flex-direction: column;
        gap: 16px;
        align-items: flex-start;
      }

      .filter-pills {
        flex-wrap: wrap;
      }
    }

    @media (max-width: 600px) {
      .container {
        padding: 24px 16px;
      }

      .metrics-grid {
        grid-template-columns: 1fr;
      }

      .logo-section h1 {
        font-size: 1.8rem;
      }

      header {
        flex-direction: column;
        gap: 20px;
      }

      .last-updated {
        width: 100%;
        text-align: left;
      }
    }

    /* Notes Tooltip */
    .notes-indicator {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      font-size: 0.75rem;
      color: var(--text-muted);
      cursor: help;
      position: relative;
    }

    .notes-indicator:hover .notes-tooltip {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .notes-tooltip {
      position: absolute;
      bottom: 100%;
      left: 0;
      background: var(--text-primary);
      color: white;
      padding: 12px 16px;
      border-radius: var(--radius-sm);
      font-size: 0.85rem;
      width: 280px;
      line-height: 1.5;
      opacity: 0;
      visibility: hidden;
      transform: translateY(8px);
      transition: all 0.2s ease;
      z-index: 100;
      box-shadow: var(--shadow-lg);
    }

    .notes-tooltip::after {
      content: '';
      position: absolute;
      top: 100%;
      left: 20px;
      border: 6px solid transparent;
      border-top-color: var(--text-primary);
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo-section">
        <h1>Beautifi</h1>
        <p class="subtitle">Financing Applications Dashboard</p>
      </div>
      <div class="last-updated">
        <div class="last-updated-label">Last Updated</div>
        <div class="last-updated-time" id="lastUpdated">Loading...</div>
      </div>
    </header>

    <div class="metrics-grid">
      <div class="metric-card highlight">
        <div class="metric-label">Total Applications</div>
        <div class="metric-value" id="totalApps">0</div>
        <div class="metric-subtext">Active in pipeline</div>
      </div>
      <div class="metric-card">
        <div class="metric-label">Approved</div>
        <div class="metric-value" id="approvedCount">0</div>
        <div class="metric-subtext">Ready for funding</div>
      </div>
      <div class="metric-card">
        <div class="metric-label">Under Review</div>
        <div class="metric-value" id="reviewCount">0</div>
        <div class="metric-subtext">Awaiting decision</div>
      </div>
      <div class="metric-card">
        <div class="metric-label">Total Requested</div>
        <div class="metric-value" id="totalAmount">$0</div>
        <div class="metric-subtext">Across all applications</div>
      </div>
    </div>

    <div class="filters-section">
      <h2 class="section-title">Applications</h2>
      <div class="filter-pills">
        <button class="filter-pill active" data-filter="all">All</button>
        <button class="filter-pill" data-filter="approved">Approved</button>
        <button class="filter-pill" data-filter="review">Under Review</button>
        <button class="filter-pill" data-filter="pending">Pending</button>
        <button class="filter-pill" data-filter="closed">Closed</button>
      </div>
    </div>

    <div class="applications-list" id="applicationsList">
      <!-- Applications will be rendered here -->
    </div>
  </div>

  <script>
    // Sample data based on actual scraped applications
    const applications = [
      {
        id: 1,
        name: "Damaris Fernandez",
        email: "damarisfend@gmail.com",
        status: "Approved for Loan",
        requestedAmount: 15000,
        approvedAmount: 15000,
        maxApproved: 25000,
        createdAt: "2026-01-08",
        updatedAt: "2026-01-08",
        notes: "Approved! Beautifi is presenting the applicant with their loan offer.",
        tab: "Submitted"
      },
      {
        id: 2,
        name: "Cheri Brunning",
        email: "cheribrunning@gmail.com",
        status: "Credit Review",
        requestedAmount: 30000,
        approvedAmount: null,
        maxApproved: null,
        createdAt: "2026-01-07",
        updatedAt: "2026-01-08",
        notes: "Application is under manual review for approval.",
        tab: "Submitted"
      },
      {
        id: 3,
        name: "Kumanan Loganathan",
        email: "purushoth.kumanan@gmail.com",
        status: "Gathering Additional Information",
        requestedAmount: 18000,
        approvedAmount: null,
        maxApproved: null,
        createdAt: "2026-01-07",
        updatedAt: "2026-01-08",
        notes: "Additional information is required prior to approval. Beautifi is working with the applicant.",
        tab: "Submitted"
      },
      {
        id: 4,
        name: "Angela McDonald",
        email: "ajmac@shaw.ca",
        status: "Closed",
        requestedAmount: 21000,
        approvedAmount: null,
        maxApproved: null,
        createdAt: "2026-01-06",
        updatedAt: "2026-01-08",
        notes: "Application Closed - Unable to provide a loan offer at this time.",
        lossReason: "Unqualified, No Co-Signer Available",
        tab: "Submitted"
      },
      {
        id: 5,
        name: "Brian Lubbe",
        email: "brilubbe@gmail.com",
        status: "Reaching Out to Patient",
        requestedAmount: 20000,
        approvedAmount: null,
        maxApproved: null,
        createdAt: "2026-01-06",
        updatedAt: "2026-01-08",
        notes: "Beautifi is reaching out to the applicant regarding their application.",
        tab: "Submitted"
      },
      {
        id: 6,
        name: "Jasmine Gill",
        email: "jasminegill01@yahoo.ca",
        status: "Approved for Loan",
        requestedAmount: 10000,
        approvedAmount: 10000,
        maxApproved: 25000,
        createdAt: "2026-01-06",
        updatedAt: "2026-01-08",
        notes: "Approved! Beautifi is presenting the applicant with their loan offer.",
        tab: "Submitted"
      },
      {
        id: 7,
        name: "Rylee Wilcox",
        email: "rylee_wilcox@hotmail.com",
        status: "Approved for Loan",
        requestedAmount: 20000,
        approvedAmount: 15000,
        maxApproved: 15000,
        createdAt: "2026-01-04",
        updatedAt: "2026-01-07",
        notes: "Approved! Beautifi is presenting the applicant with their loan offer.",
        tab: "Submitted"
      },
      {
        id: 8,
        name: "Fazilla Somani",
        email: "fmsomani@gmail.com",
        status: "Approved for Loan",
        requestedAmount: 15500,
        approvedAmount: 15500,
        maxApproved: 15500,
        createdAt: "2025-12-29",
        updatedAt: "2026-01-07",
        notes: "Approved! Beautifi is presenting the applicant with their loan offer.",
        tab: "Submitted"
      },
      {
        id: 9,
        name: "Monica Hart",
        email: "monicamcleod123@hotmail.com",
        status: "Approved for Loan",
        requestedAmount: 20000,
        approvedAmount: 15000,
        maxApproved: 15000,
        createdAt: "2025-12-28",
        updatedAt: "2026-01-07",
        notes: "Approved! Beautifi is presenting the applicant with their loan offer.",
        tab: "Submitted"
      },
      {
        id: 10,
        name: "Sarah Chen",
        email: "sarah.chen@email.com",
        status: "Ready for Funding",
        requestedAmount: 18000,
        approvedAmount: 18000,
        maxApproved: 20000,
        createdAt: "2025-12-20",
        updatedAt: "2026-01-08",
        notes: "Loan documents signed. Ready for funding.",
        tab: "Accepted & Approved"
      },
      {
        id: 11,
        name: "Michael Torres",
        email: "mtorres@outlook.com",
        status: "Ready for Funding",
        requestedAmount: 22000,
        approvedAmount: 22000,
        maxApproved: 25000,
        createdAt: "2025-12-18",
        updatedAt: "2026-01-07",
        notes: "Loan documents signed. Ready for funding.",
        tab: "Accepted & Approved"
      },
      {
        id: 12,
        name: "Jennifer Walsh",
        email: "jwalsh.2024@gmail.com",
        status: "Ready for Funding",
        requestedAmount: 16500,
        approvedAmount: 16500,
        maxApproved: 20000,
        createdAt: "2025-12-15",
        updatedAt: "2026-01-06",
        notes: "Loan documents signed. Ready for funding.",
        tab: "Accepted & Approved"
      }
    ];

    // Utility functions
    function formatCurrency(amount) {
      if (!amount) return 'â€”';
      return new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD',
        minimumFractionDigits: 0,
        maximumFractionDigits: 0
      }).format(amount);
    }

    function formatDate(dateStr) {
      if (!dateStr) return 'â€”';
      const date = new Date(dateStr);
      return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
    }

    function getStatusClass(status) {
      const s = status.toLowerCase();
      if (s.includes('approved') || s.includes('ready')) return 'status-approved';
      if (s.includes('review') || s.includes('gathering') || s.includes('reaching')) return 'status-review';
      if (s.includes('closed') || s.includes('n/a')) return 'status-closed';
      return 'status-pending';
    }

    function getStatusCategory(status) {
      const s = status.toLowerCase();
      if (s.includes('approved') || s.includes('ready')) return 'approved';
      if (s.includes('review') || s.includes('gathering') || s.includes('reaching')) return 'review';
      if (s.includes('closed') || s.includes('n/a')) return 'closed';
      return 'pending';
    }

    function getShortStatus(status) {
      if (status.includes('Approved for Loan')) return 'Approved';
      if (status.includes('Ready for Funding')) return 'Ready';
      if (status.includes('Credit Review')) return 'Review';
      if (status.includes('Gathering')) return 'Info Needed';
      if (status.includes('Reaching Out')) return 'Contacting';
      if (status.includes('Closed')) return 'Closed';
      return status;
    }

    // Animate counter
    function animateCounter(element, target, prefix = '', suffix = '') {
      const duration = 1000;
      const start = 0;
      const startTime = performance.now();

      function update(currentTime) {
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);
        const easeProgress = 1 - Math.pow(1 - progress, 3);
        const current = Math.floor(start + (target - start) * easeProgress);
        element.textContent = prefix + current.toLocaleString() + suffix;

        if (progress < 1) {
          requestAnimationFrame(update);
        }
      }

      requestAnimationFrame(update);
    }

    // Render metrics
    function renderMetrics() {
      const openApps = applications.filter(a => !a.status.toLowerCase().includes('closed'));
      const approved = applications.filter(a => getStatusCategory(a.status) === 'approved');
      const review = applications.filter(a => getStatusCategory(a.status) === 'review');
      const totalRequested = applications.reduce((sum, a) => sum + (a.requestedAmount || 0), 0);

      setTimeout(() => {
        animateCounter(document.getElementById('totalApps'), openApps.length);
        animateCounter(document.getElementById('approvedCount'), approved.length);
        animateCounter(document.getElementById('reviewCount'), review.length);
        animateCounter(document.getElementById('totalAmount'), totalRequested, '$');
      }, 300);

      document.getElementById('lastUpdated').textContent = new Date().toLocaleString('en-US', {
        month: 'short',
        day: 'numeric',
        hour: 'numeric',
        minute: '2-digit',
        hour12: true
      });
    }

    // Render application card
    function renderApplicationCard(app, index) {
      const notesHtml = app.notes ? `
        <span class="notes-indicator">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
          </svg>
          Notes
          <span class="notes-tooltip">${app.notes}${app.lossReason ? '<br><br><strong>Reason:</strong> ' + app.lossReason : ''}</span>
        </span>
      ` : '';

      return `
        <div class="application-card" style="animation-delay: ${0.35 + index * 0.05}s" data-status="${getStatusCategory(app.status)}">
          <div class="applicant-info">
            <div class="applicant-name">${app.name}</div>
            <div class="applicant-email">${app.email}</div>
            <div class="applicant-meta">
              <span>${app.tab}</span>
              ${notesHtml}
            </div>
          </div>
          <div class="amount-info">
            <div class="amount-label">Requested</div>
            <div class="amount-value">${formatCurrency(app.requestedAmount)}</div>
            ${app.approvedAmount ? `
              <div class="amount-label" style="margin-top: 8px;">Approved</div>
              <div class="amount-value amount-approved">${formatCurrency(app.approvedAmount)}</div>
            ` : ''}
          </div>
          <div class="dates-info">
            <div class="date-label">Created</div>
            <div>${formatDate(app.createdAt)}</div>
            <div class="date-label" style="margin-top: 6px;">Updated</div>
            <div>${formatDate(app.updatedAt)}</div>
          </div>
          <span class="status-pill ${getStatusClass(app.status)}">${getShortStatus(app.status)}</span>
        </div>
      `;
    }

    // Render applications list
    function renderApplications(filter = 'all') {
      const list = document.getElementById('applicationsList');
      let filtered = applications;

      if (filter !== 'all') {
        filtered = applications.filter(a => getStatusCategory(a.status) === filter);
      }

      if (filtered.length === 0) {
        list.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">ðŸ“‹</div>
            <div class="empty-state-text">No applications match this filter</div>
          </div>
        `;
        return;
      }

      list.innerHTML = filtered.map((app, i) => renderApplicationCard(app, i)).join('');
    }

    // Filter handling
    function setupFilters() {
      const pills = document.querySelectorAll('.filter-pill');
      pills.forEach(pill => {
        pill.addEventListener('click', () => {
          pills.forEach(p => p.classList.remove('active'));
          pill.classList.add('active');
          renderApplications(pill.dataset.filter);
        });
      });
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      renderMetrics();
      renderApplications();
      setupFilters();
    });
  </script>
</body>
</html>
